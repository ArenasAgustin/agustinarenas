---
import Layout from "@/layouts/Layout.astro";
import Section from "components/Section/Section.astro";
import SectionMiddle from "components/Section/SectionMiddle.astro";
import SmallCard from "components/Card/SmallCard.astro";
import SkillCard from "components/Card/SkillCard.astro";
import LinkButton from "components/Links/LinkButton.astro";
import { Image } from "astro:assets";
import educationImg from "@/assets/education.webp";
import workImg from "@/assets/work.webp";
import aboutImg from "@/assets/about.webp";
import { educations, type Education } from "@/constants/educations";
import { works, type Work } from "@/constants/works";
import { skills } from "@/constants/skills";
---

<Layout title="Agustin Arenas | About me">
  <Section id="about" extraClass="text-mine-shaft-100">
    <div class="text-img flex-center-center flex-col">
      <h1 class="text-5xl md:text-7xl text-center font-bold m-0 mb-4">
        About me
      </h1>

      <span class="text-center text-3xl md:text-3xl w-5/6 md:max-w-5xl mb-6">
        I'm a software engineer from Argentina. I'm passionate about web
        development, open source, and building communities.
      </span>

      <LinkButton
        href=""
        targetBlank={true}
        extraClass="text-mine-shaft-900 dark:text-mine-shaft-100"
      >
        Download CV
      </LinkButton>
    </div>

    <div class="absolute top-0 left-0 w-full h-full z-[-1]">
      <Image
        src={aboutImg}
        alt="Work"
        class="w-full h-full object-cover"
        widths={[540, 720, aboutImg.width]}
        sizes={`(max-width: 360px) 540px, (max-width: 720px) 720px, ${aboutImg.width}px`}
      />
    </div>
  </Section>

  <SectionMiddle extraClass="bg-bunker" id="education" slotFirst="slot2">
    <div
      slot="slot2"
      class="sticky w-full h-screen max-h-[354px] flex-center-center flex-col text-mine-shaft-900"
    >
      <h2 class="text-4xl md:text-5xl font-bold text-img mb-4">Education</h2>

      <div class="absolute top-0 left-0 w-full h-full z-[-1]">
        <Image
          src={educationImg}
          alt="Education"
          class="w-full h-full object-cover"
          widths={[240, 540, 720, educationImg.width]}
          sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${educationImg.width}px`}
        />
      </div>
    </div>

    <div slot="slot1" class="flex-center-center flex-col w-full p-5">
      {
        educations.map((education: Education) => (
          <SmallCard
            title={education.title}
            subtitle={education.subtitle}
            time={education.time}
          />
        ))
      }
    </div>
  </SectionMiddle>

  <SectionMiddle extraClass="bg-bunker" id="work" slotFirst="slot1">
    <div
      slot="slot1"
      class="sticky w-full h-screen max-h-full flex-center-center flex-col top-0 left-0"
    >
      <h2 class="text-4xl md:text-5xl font-bold text-img mb-4">Work</h2>

      <div class="absolute top-0 left-0 w-full h-full z-[-1]">
        <Image
          src={workImg}
          alt="Work"
          class="w-full h-full object-cover"
          widths={[240, 540, 720, workImg.width]}
          sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${workImg.width}px`}
        />
      </div>
    </div>

    <div slot="slot2" class="flex-center-center flex-col w-full p-5">
      {
        works.map((work: Work) => (
          <SmallCard
            title={work.title}
            subtitle={work.subtitle}
            description={work.description}
            time={work.time}
          />
        ))
      }
    </div>
  </SectionMiddle>

  <Section id="skils" title="Skils">
    <div class="flex-center-center w-full md:w-3/5 flex-wrap mx-12">
      {skills.map((skill: string) => <SkillCard nameProp={skill} />)}
    </div>
  </Section>
</Layout>
